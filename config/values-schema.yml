#@data/values-schema
---
#@schema/desc "The namespace in which to deploy kapp-controller"
namespace: kapp-controller
#@schema/desc "Whether to create namespace specified for kapp-controller"
create_namespace: true
#@schema/desc "Mention global namespace used for packaging"
packaging_global_namespace: kapp-controller-packaging-global
#@schema/desc "Boolean flag on to whaether to create packaging namespace or not"
create_packaging_namespace: true
#@schema/desc "APIPriorityAndFairness flag. Clusters version 1.19 and below should disable APIPriorityAndFairness by setting the below to false"
enable_api_priority_and_fairness: true
#@schema/desc "Enable profiling by setting dangerous_enable_pprof to true"
dangerous_enable_pprof: false
#@schema/desc "Comma separated list of cipher suites - empty for language defaults"
tls_cipher_suites: ""
#@schema/desc "Container port"
api_port: 10350
#@schema/desc "The coreDNSIP will be injected into /etc/resolv.conf of kapp-controller pod"
coreDNSIP: ""
#@schema/desc "HostNetwork of kapp-controller deployment."
hostNetwork: false
#@schema/desc "PriorityClassName of kapp-controller deployment."
priorityClassName: ""
#@schema/desc "Concurrency of kapp-controller deployment. Default is 4"
concurrency: 4
#@schema/desc "Toleration of kapp-controller deployment."
tolerations: [""]
#@schema/desc "Address for metrics server. Default is :8080. If 0, then metrics server doesnt listen on any port."
metricsBindAddress: ":8080"

#@schema/desc "Configuration for kapp-controller deployment"
#@overlay/match-child-defaults missing_ok=True
deployment:
  #@schema/desc "Update strategy of deployments, empty uses default strategy"
  updateStrategy: ""
  rollingUpdate:
    #@schema/desc "The maxUnavailable of rollingUpdate. Applied only if RollingUpdate is used as updateStrategy"
    maxUnavailable: 1
    #@schema/desc "The maxSurge of rollingUpdate. Applied only if RollingUpdate is used as updateStrategy"
    maxSurge: 0
  #@schema/type any=True
  #@schema/desc "NodeSelector configuration applied to all the deployments"
  nodeSelector: null  

#@schema/desc "Configuration for kapp-controller daemonset"
#@overlay/match-child-defaults missing_ok=True
daemonset:
  #@schema/desc "Update strategy of daemonset, empty uses default strategy"
  updateStrategy: ""

#@schema/desc ""
#@overlay/match-child-defaults missing_ok=True
config:
  #@schema/desc "A cert chain of trusted ca certs. These will be added to the system-wide cert pool of trusted ca's. Default is empty"
  caCerts: ""
  #@schema/desc "The url/ip of a proxy for kapp controller to use when making network requests. Default is empty"
  httpProxy: ""
  #@schema/desc "The url/ip of a tls capable proxy for kapp controller to use when making network requests. Default is empty"
  httpsProxy: ""
  #@schema/desc "A comma delimited list of domain names which kapp controller should bypass the proxy for when making requests. Default is empty"
  noProxy: ""
  #@schema/desc "A comma delimited list of hostnames for which kapp controller should skip TLS verification. Default is empty"
  dangerousSkipTLSVerify: ""
